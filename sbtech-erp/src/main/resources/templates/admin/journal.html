<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<link rel="stylesheet" th:href="@{/css/journal.css}">

<th:block th:fragment="content">

    <div class="page-header">
        <h1>전표 관리</h1>
        <button class="btn-primary" onclick="openJournalModal()">+ 전표 등록</button>
    </div>

    <!-- 검색바 -->
    <div class="card">
        <input class="search-input" placeholder="계정명 또는 설명 검색..." oninput="searchJournal(this.value)">
    </div>

    <!-- 전표 테이블 -->
    <div class="table-card">
        <table>
            <thead>
            <tr>
                <th>날짜</th>
                <th>전표 번호</th>
                <th>계정명</th>
                <th>차변</th>
                <th>대변</th>
                <th>금액</th>
                <th>작성자</th>
            </tr>
            </thead>
            <tbody id="journalTable"></tbody>
        </table>
    </div>

    <!-- 모달 -->
    <!-- 전표 등록 모달 -->
    <div class="modal-bg" id="journalModal">
        <div class="modal">

            <h2>전표 등록</h2>

            <label>전표 설명</label>
            <input id="entryDesc" type="text" placeholder="예: 급여 지급">

            <label>전표 날짜</label>
            <input id="entryDate" type="date"/>

            <hr>

            <table class="line-table">
                <thead>
                <tr>
                    <th>계정명</th>
                    <th>차변</th>
                    <th>대변</th>
                    <th>삭제</th>
                </tr>
                </thead>
                <tbody id="lineTableBody"></tbody>
            </table>

            <button class="btn-primary" onclick="addLineRow()">+ 라인 추가</button>

            <hr>

            <div class="sum-box">
                <span>차변 합계: <b id="sumDebit">0</b></span>
                <span>대변 합계: <b id="sumCredit">0</b></span>
            </div>

            <button class="save-btn" onclick="saveJournal()">전표 저장</button>
            <button class="cancel-btn" onclick="closeJournalModal()">취소</button>
        </div>
    </div>


    <script th:src="@{/js/admin/journal.js}"></script>

</th:block>
</html>
